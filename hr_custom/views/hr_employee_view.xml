<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_employee_view" model="ir.ui.view">
        <field name="name">hr.employee.view.form</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//field[@name='name']" position="after">
                    <br/>
                    <field name="name_english"/>
                </xpath>
                <xpath expr="//page[@name='hr_settings']" position="after">
                    <page string="Family">
                        <field name="family_ids"/>
                    </page>
                </xpath>
                <xpath expr="//field[@name='mobile_phone']" position="before">
                    <field name="barcode"/>
                </xpath>
                
                <xpath expr="//group[@name='has_work_permit']" position="after">
                    <group string="Contract Info" name="contract_info">
                        <field name="start_date"/>
                        <field name="contract_end_date"/>
                    </group>
                </xpath>
                
            </data>
        </field>
    </record>

    <record id="hr_contract.hr_hr_employee_view_form2" model="ir.ui.view">
        <field name="name">hr.hr.employee.view.form2</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <data>
                <div name="button_box" position="inside">
                    <field name="contract_warning" invisible="1"/>
                    <button name="%(hr_contract.act_hr_employee_2_hr_contract)d"
                        class="oe_stat_button"
                        icon="fa-book"
                        type="action"
                        groups="hr_contract.group_hr_contract_manager">
                        <div attrs="{'invisible' : [('first_contract_date', '=', False)]}" class="o_stat_info">
                            <span class="o_stat_text text-success" attrs="{'invisible' : [('contract_warning', '=', True)]}" title="In Contract Since"> In Contract Since</span>
                            <span class="o_stat_value text-success" attrs="{'invisible' : [('contract_warning', '=', True)]}">
                                <field name="first_contract_date" readonly="1"/>
                            </span>
                            <span class="o_stat_text text-danger" attrs="{'invisible' : [('contract_warning', '=', False)]}" title="In Contract Since">
                                In Contract Since
                            </span>
                            <span class="o_stat_value text-danger" attrs="{'invisible' : [('contract_warning', '=', False)]}">
                                <field name="first_contract_date" readonly="1"/>
                            </span>
                        </div>
                        <div attrs="{'invisible' : [('first_contract_date', '!=', False)]}" class="o_stat_info">
                            <span class="o_stat_value text-danger">
                                <field name="contracts_count"/>
                            </span>
                            <span class="o_stat_text text-danger">
                                Contracts
                            </span>
                        </div>
                    </button>
                </div>
                <xpath expr="//field[@name='user_id']" position="before">
                    <field name="first_contract_date" />
                </xpath>
                <xpath expr="//field[@name='bank_account_id']" position="replace">
                    <field name="bank_account_id" context="{'display_partner':True}" attrs="{'invisible' : [('address_home_id', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='resource_calendar_id']" position="replace">
                    <field name="calendar_mismatch" invisible="1"/>
                    <label for="resource_calendar_id"/>
                    <div>
                        <field name="resource_calendar_id" required="1" nolabel="1"/>
                        <span attrs="{'invisible': [('calendar_mismatch', '=', False)]}"
                            class="fa fa-exclamation-triangle text-danger o_calendar_warning pl-3">
                        </span>
                        <span class="o_calendar_warning_tooltip text-danger">
                            Calendar Mismatch : The employee's calendar does not match its current contract calendar. This could lead to unexpected behaviors.
                        </span>
                    </div>
                </xpath>

                <xpath expr="//field[@name='identification_id']" position="before">
                    <field name="iqama" />
                    <field name="expiration_date_residence" />
                </xpath>

                <xpath expr="//field[@name='passport_id']" position="after">
                    <field name="passport_expiry_date" />
                </xpath>
                
                <xpath expr="//field[@name='permit_no']" position="after">
                    <field name="work_permit_expiration_date" />
                    <field name="job_join_date" />
                    <field name="employee_type" />
                </xpath>
            </data>
        </field>
    </record>

    
</odoo>